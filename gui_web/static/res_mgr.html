<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1" name="viewport" />
    <script>
        var Module = {};
        var __cargo_web = {};
    </script>
</head>
<body>
    <canvas id="canvas" width = "1000px" height="1000px"></canvas>
    <div style="position: absolute;width: 100%; height: 20px;top: 0px;"> FitType_Fill</div>
    <div style="position: absolute;width: 100%; height: 20px;top: 200px"> FitType_Contain</div>
    <div style="position: absolute;width: 100%; height: 20px;top: 400px"> FitType_Cover</div>
    <div style="position: absolute;width: 100%; height: 20px;top: 600px"> FitType_ScaleDown</div>

    <script src="../target/asmjs-unknown-emscripten/debug/gui_web.js"></script>
    <script src="shader/clip.js"></script>
    <script src="shader/color.js"></script>
    <script src="shader/image.js"></script>
    <script src="shader/text.js"></script>
    <script src="shader/canvas_text.js"></script>
    <script src="shader/init.js"></script>
    <script>
        var gui = create_gui(1000, 1000);
        Module._set_clear_color(gui, 1, 1, 0, 0);
        Module._set_flex_wrap(gui, 1, YGWrapWrap);
        render_fram();
        
        var body = Module._create_node(gui);
        Module._append_child(gui, body, 1); // 接口已修改， node和parent顺序颠倒
        Module._set_position(gui, body, 1, 15.0);
        Module._set_position_type(gui, body, 1);
        Module._set_background_rgba_color(gui, body, 0.0, 0.0, 0.0, 1.0);

        var node = Module._create_image_node(gui);
        Module._append_child(gui, node, body);
        window.__jsObj = "./res/xxx.png";
        Module._set_src(gui, node);
        Module._set_object_fit(gui, node, FitType_Fill);
        Module._set_width(gui, node, 150); // 图片不设置宽高， 默认为0
        Module._set_height(gui, node, 150);
        // Module._set_border_radius(gui, node, 20);
    </script>

    <script>  
        var body = Module._create_node(gui);
        Module._append_child(gui, body, 1); // 接口已修改， node和parent顺序颠倒
        Module._set_position(gui, body, 1, 215.0);
        Module._set_position_type(gui, body, 1);
        Module._set_background_rgba_color(gui, body, 0.0, 0.0, 0.0, 1.0);

        var node = Module._create_image_node(gui);
        Module._append_child(gui, node, body);
        window.__jsObj = "./res/01.png";
        Module._set_src(gui, node);
        Module._set_object_fit(gui, node, FitType_Contain);
        Module._set_width(gui, node, 150); // 图片不设置宽高， 默认为0
        Module._set_height(gui, node, 150);
		
		setTimeout(() => {
			Module._remove_child(gui, node);
		}, 2000);

    </script>

</body>
</html>