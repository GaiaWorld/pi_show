<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1" name="viewport" />
    <script>
        var Module = {};
        var __cargo_web = {};
    </script>
</head>
<body>
    <canvas id="canvas" width = "1000px" height="700px"></canvas>
    <script>
        var RUST_BACKTRACE = 1;
        var FitType_None = 0;
        var FitType_Fill = 1;
        var FitType_Contain = 2;
        var FitType_Cover = 3;
        var FitType_ScaleDown = 4;
        var YGEdgeLeft = 0;
        var YGEdgeTop = 1;
        var YGEdgeRight = 2;
        var YGEdgeBottom = 3;
        var YGEdgeStart = 4;
        var YGEdgeEnd = 5;
        var YGEdgeHorizontal = 6;
        var YGEdgeVertical = 7;
        var YGEdgeAll = 8;
    </script>
    <script src="../../target/asmjs-unknown-emscripten/debug/gui.js"></script>
    <script src="../shader/clip.js"></script>
    <script src="../shader/color.js"></script>
    <script src="../shader/image.js"></script>
    <script src="../shader/text.js"></script>
    <script src="../shader/canvas_text.js"></script>
    <script src="../shader/init.js"></script>
    <script>
        
        var gui = Module._create_gui(engine, 1000, 700);
        
        // var body = Module._create_node(gui);
        // Module._set_width_percent(gui, body, 100.0);
        // Module._set_height_percent(gui, body, 100.0);
        // // Module._set_overflow(gui, body, true);
        // // Module._set_background_rgba_color(gui, body, 1.0, 0.0, 0.0, 1.0);
        // Module._append_child(gui, body, 1);
        // Module._render(gui);
        
        // var root = Module._create_node(gui);
        // Module._append_child(gui, root, body);
        // Module._set_width_percent(gui, root, 100.0);
        // Module._set_height_percent(gui, root, 100.0);
        // // Module._set_position(gui, root, 1);
        // // Module._set_background_rgba_color(gui, root, 1.0, 1.0, 0.0, 1.0);
        // Module._render(gui);
        
        // var root0 = Module._create_node(gui);
        // Module._append_child(gui, root0, root);
        // Module._set_width_percent(gui, root0, 100.0);
        // Module._set_height_percent(gui, root0, 100.0);
        // Module._set_position(gui, root0, 1);
        // // Module._set_background_rgba_color(gui, root0, 1.0, 1.0, 0.0, 1.0);
        

        // var node0 = Module._create_node(gui);
        // Module._append_child(gui, node0, root0);
        // Module._set_width(gui, node0, 100.0);
        // Module._set_height(gui, node0, 100.0);
        // // Module._set_opacity(gui, node0, 0.6);
        // Module._set_background_rgba_color(gui, node0, 1.0, 0.0, 0.2, 1.0);

        var node1 = Module._create_node(gui);
        Module._set_width(gui, node1, 100.0);
        Module._set_height(gui, node1, 100.0);
        Module._append_child(gui, node1, 1);
        Module._set_opacity(gui, node1, 0.9);
        Module._set_background_rgba_color(gui, node1, 1.0, 0.0, 0.2, 1.0);
        // Module._set_overflow(gui, body, true);

        // var node1 = Module._create_image_node(gui);
        // Module._append_child(gui, node1, body);
        // Module._set_width(gui, node1, 90);
        // Module._set_height(gui, node1, 90);
        // Module._set_background_rgba_color(gui, node1, 0.0, 1.0, 0.0, 1.0);

        var node2 = Module._create_image_node(gui);
        Module._append_child(gui, node2, node1);
        Module._set_width(gui, node2, 100);
        Module._set_height(gui, node2, 100);
        Module._set_position(gui, node2, YGEdgeLeft, 30);
        
        Module._render(gui);

        // var node3 = Module._create_image_node(gui);
        // Module._append_child(gui, node3, body);
        // Module._set_width(gui, node3, 90);
        // Module._set_height(gui, node3, 90);
        
        // var image = new Image();
        // image.onload = () => {
        //     window.__jsObj = image;
        //     window.__jsObj1 = "./04.png";
        //     Module._set_src(gui, node1, 0, 0);
        //     Module._render(gui);
        // };
        // image.src = "./04.png";

        // var image2 = new Image();
        // image2.onload = () => {
        //     window.__jsObj = image2;
        //     window.__jsObj1 = "./04.png";
        //     Module._set_src(gui, node2, 1, 0);
        //     Module._render(gui);
        // };
        // image2.src = "./04.png";

        var image3 = new Image();
        image3.onload = () => {
            setTimeout(() => {
                window.__jsObj = image3;
                window.__jsObj1 = "../test_image/01.png";
                Module._set_src(gui, node2, 1, 0); // 
                Module._render(gui);
            }, 3000);
            
        };
        image3.src = "../test_image/01.png";


        // var image3 = new Image();
        // image3.onload = () => {
        //     window.__jsObj = image3;
        //     window.__jsObj1 = "./04.png";
        //     Module._set_src(gui, node3, 0, 0);
        //     Module._render(gui);
        // };
        // image3.src = "./04.png";

    </script>
</body>
</html>